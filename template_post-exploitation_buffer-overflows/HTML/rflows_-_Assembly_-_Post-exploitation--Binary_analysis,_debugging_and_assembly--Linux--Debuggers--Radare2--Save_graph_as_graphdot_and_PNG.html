<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Save graph as graphdot and PNG</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">Save graph as graphdot and PNG</h1><br/>The ag command and subcommands can help you to output the visual graph into Graphviz format.<br /><br />[0x00000000]&gt; ag?<br />Usage: ag&lt;graphtype&gt;&lt;format&gt; [addr]  <br />Graph commands:<br />| aga[format]             Data references graph<br />....<br />| agf[format]             Basic blocks function graph<br />....<br /><br /><strong>Output formats:</strong><br />| &lt;blank&gt;                 Ascii art<br />| *                       r2 commands<br />| d                       Graphviz dot<br />| g                       Graph Modelling Language (gml)<br />| j                       json ('J' for formatted disassembly)<br />| k                       SDB key-value<br />| t                       Tiny ascii art<br />| v                       Interactive ascii art<br />| w [path]                Write to path or display graph image (see graph.gv.format and graph.web)<br /><br />For example, you can output the visual graph as a dot file and then convert it to PNG. Here's an example to create an image from the main function of /bin/ls:<br /><br />$ r2 /bin/ls<br />[0x004049a0]&gt; aa<br />[x] Analyze all flags starting with sym. and entry0 (aa)<br />[0x004049a0]&gt; agfd main &gt; graph.dot<br />[0x004049a0]&gt; !!dot -Tpng -o graph.png graph.dot<br /><br />The dot utility is part of the Graphviz software which can be installed using sudo apt-get install graphviz.<br /><br />You can also output the graph into ascii-graph using the agf command.<br /><br />[0x004049a0]&gt; s main<br />[0x00402a00]&gt; agf &gt; ascii_graph.txt<br /><br />Moreover, if you are just searching for a comfort way to view the graph you can simply open the dot file inside Graphviz or use an online Graphviz viewer instead of converting it to an image file.<br /></div></body></html>