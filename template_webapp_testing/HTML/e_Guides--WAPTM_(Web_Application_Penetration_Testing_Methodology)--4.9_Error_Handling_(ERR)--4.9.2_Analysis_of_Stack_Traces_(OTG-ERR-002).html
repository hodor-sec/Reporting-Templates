<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>4.9.2 Analysis of Stack Traces (OTG-ERR-002)  </title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles3.css" type="text/css" />
  
    <script type="text/javascript">
        function in_frame () { try { return window.self !== window.top; } catch (e) { return true; } }
        if (!in_frame()) {
            var page = location.pathname.substring(location.pathname.lastIndexOf("/") + 1);
            window.location = 'index.html#' + page;
        }
    </script>
</head>
<body><div class="page"><h1 class="title">4.9.2 Analysis of Stack Traces (OTG-ERR-002)  </h1><br/><br /><h2>Summary</h2><br />Stack traces are not vulnerabilities by themselves, but they often  reveal information that is interesting to an attacker. Attackers attempt  to generate these stack traces by tampering with the input to the web  application with malformed HTTP requests and other input data. <br /><br /> If the application responds with stack traces that are not managed it  could reveal information useful to attackers. This information could  then be used in further attacks. Providing debugging information as a  result of operations that generate errors is considered a bad practice  due to multiple reasons. For example, it may contain information on  internal workings of the application such as relative paths of the point  where the application is installed or how objects are referenced  internally.   <br /><br /><h2>How to Test</h2><br /><br /><h3>Black Box testing</h3><br />There are a variety of techniques that will cause exception messages  to be sent in an HTTP response. Note that in most cases this will be an  HTML page, but exceptions can be sent as part of SOAP or REST responses  too. <br /><br /> Some tests to try include:  <br />• invalid input (such as input that is not consistent with application logic).<br />• input that contains non alphanumeric characters or query syntax.<br />• empty inputs.<br />• inputs that are too long. <br />• access to internal pages without authentication. <br />• bypassing application flow.<br /><br /> All the above tests could lead to application errors that may contain  stack traces. It is recommended to use a fuzzer in addition to any  manual testing. <br /><br /> Some tools, such as <a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project">OWASP ZAP</a>  and Burp proxy will automatically detect these exceptions in the  response stream as you are doing other penetration and testing work. <br /><br /><h3>Gray Box Testing</h3><br />Search the code for the calls that cause an exception to be rendered  to a String or output stream. For example, in Java this might be code in  a JSP that looks like: <br />&lt;% e.printStackTrace( new PrintWriter( out ) ) %&gt;In some cases, the stack trace will be specifically formatted into HTML, so be careful of accesses to stack trace elements. <br /><br /> Search the configuration to verify error handling configuration and the  use of default error pages.  For example, in Java this configuration can  be found in web.xml. <br /><br /><h2>Tools</h2><br />[1] ZAP Proxy - <a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project">https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project</a>  <br /><br /><h2>References</h2><br />•  [1] [<a href="http://www.ietf.org/rfc/rfc2616.txt?number=2616">RFC2616</a>] Hypertext Transfer Protocol -- HTTP/1.1<br /></div></body></html>